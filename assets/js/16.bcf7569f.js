(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{194:function(t,s,a){"use strict";a.r(s);var n=a(0),o=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("ol",[a("li",[t._v("不能在同一元素上绑定相同的属性，而这个在vue是可以的"),a("br"),t._v("\n例如：")])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("default"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{loaded ? "),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("load-class"),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v(" : "),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("unload-class"),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("}}"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("在最终的渲染结果里，只会有"),a("code",[t._v("load-class")]),t._v("或者"),a("code",[t._v("unload-class")]),t._v("，前面的"),a("code",[t._v("default")]),t._v("会被覆盖掉"),a("br"),t._v("\n正确写法如下")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("default {{loaded ? "),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("load-class"),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v(" : "),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("unload-class"),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("}}"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("没有过滤器的问题\n这使得我们需要对数据进行预处理"),a("br"),t._v("\n例如：\n价格"),a("code",[t._v("salePrice")]),t._v("展示时要求：小数点前的数字显示大一点，小数点后的数字显示小一点，如果小数点后为0则不显示小数点后面的部分"),a("br"),t._v("\n这在vue里一个过滤器就可以"),a("br"),t._v("\n而在小程序里，由于没有过滤器，如果把字段处理写到行内，会导致代码难以阅读且代码复用性低。因此，我们需要先对数据进行预处理，把数据处理好，再进行展示")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" formatPrice "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'utils'")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" goodsList "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("formatPrice")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("goodsList"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'salePrice'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setData")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token string"}},[t._v("'goodsList'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" goodsList\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[a("code",[t._v("rpx")]),t._v("并非全能(大多数情况可用)\n整个屏幕的宽度是750rpx"),a("br"),t._v("\n在h5页面转小程序过程中，有一个场景是单行可滑动的商品列表，一行展示2.5或3.5个商品，这里的元素宽度是通过")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setData")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// windowWidth是可使用窗口宽度，column是每行展示的商品数")]),t._v("\n  "),a("span",{attrs:{class:"token string"}},[t._v("'goodsItemWidth'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("windowWidth "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("column\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("计算得到的"),a("br"),t._v("\n起初我们把"),a("code",[t._v("${goodsItemWidth}px")]),t._v("全部转化为"),a("code",[t._v("${goodsItemWidth*2}rpx")]),t._v("，发现在高分辨率手机（例如iphone7p）上宽度不正确，我多次调整这个数值也不能适配所有机型，直接使用"),a("code",[t._v("${goodsItemWidth}px")]),t._v("立即正常了")]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("所有影响页面展示的数据初始化或赋值都必须使用setData()")])])])}],!1,null,null,null);s.default=o.exports}}]);