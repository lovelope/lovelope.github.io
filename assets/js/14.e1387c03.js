(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{161:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACQCAIAAAC5w3GfAAAE80lEQVR42u3cP2gbVwDH8ae1Q6e6i8EqDR282MGDSAr2HI0eEgjUQ+0s9lBlCSIGY4ShjskSd3CG+BQMhUIyZPTiSYYkaCimHgwubmrjgjZDh6zpnaTT3Uln+Vw9RdxP38+S87vTywt88/yk/Mk4jnN+fl6r1QyQZmNjY1+NfJ1Zf/Ikf+fO5OTkoNcD9OT4+HhnZyezuLi4tbU16MUAFiwtLRE0dBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBA0pBC0XfsPM8WJk7fz3172wF/l728svDOFyslE8cYfG5+eTf/vn8ubqrcZBBG0XVcFHdzvPUeCjkHQdl0RtNvgD+bXLhv4dRB0DIK2i6AHjKBjREoJvmhcVczMzKZ3o1DxW3IrbgzV3XaaQQfDjaHQY+5rf/rTn7f+m6DyYHvGPVuHXt45gb+c+nOtiQg6jKBjdAl64V0jIe96+4FXWXBlGglWneZway+OTOGPBoP1bpvJetem0vZo8Gxwu5l2jqCjCDpG1x26bXg0+n3fP3KY6Ebq77GXBR0cU7pO8N0v4QMNR44YBB3DUtAxsV0v6I4Joid0go5B0HFC39nr54HgmNHZeXDKaJ4CjBNzEnlonnmvSx507ASRU0ZoZWgh6FjBW6+C41QXuuzQ0+GHbztObmF7ouNNYSu7awQdP0F4LFgZWggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUggaUppBr6ysDHolgAVra2te0BsbG4NeCWBBsVgkaOggaEghaEghaEghaEghaEghaEghaEghaEghaEghaEghaEghaEgh6BT48ud/Br2EPvp3edTibASdAgSdHEGnQCPo08UvBr0Qy7LPPxqCHkIEnRxBpwBBJ0fQKUDQyRF0ChB0cgSdAv0MulrK7uZPV3OX3T97NTt99LjLAz0g6CFlL2gvz0e/N67nX5+umlL2brl11xvJRR+KMfV0/829MRu/LoIeUpZ3aDfYl9+8Wc35P3pj4Y3aHS+YzUuirZZm//6RoNELu0GfvSq9v7V6r1aa3TWmXI5uxfa23wQIekhZDbrqnzLmX++Pr9e3YhNs2e7Xm6bQ7cRhMXqCHlIWg67n7J6V87vuEcMNuj3dmFjDJxO7CHpIWQvaa/PoZtnkW0HH7NCNoIOMCRqW2T5y7Oav3KFDbbd96GHxlE3QQ6pPQY8/PfitHu1Zxw7tn0zYodEH/XlTODU1Ze7X820PulbKro/vPz6avnvgbse33hM0rOrDDh35FNq7NPcPHrkHC//94mnr4+nQH7z4mlt3zwh6SPF3OZIj6BQg6OQIOgUIOjmCTgGCTo6gU4CgkyPoFCDo5Ag6BfhvDJIj6BQg6OQIGlIIGlIIGlIIGlIIGlIIGlIIGlIIGlIIGlIIGlIIGlIIGlIIGlIIGlIIGlIIGlIIGlK8oJeXl+fm5kZHbf7DAeDzOzw83Nvby7x44Xz4cHJxcTHo9QA9yWazIyMj/wE6+Ze8laktNgAAAABJRU5ErkJggg=="},176:function(t,a){t.exports="data:image/png;base64,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"},181:function(t,a,s){"use strict";s.r(a);var n=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"javascript的变量提升机制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#javascript的变量提升机制","aria-hidden":"true"}},[t._v("#")]),t._v(" javascript的变量提升机制")]),t._v(" "),n("p",[t._v("今天我在看《前端面试江湖》时，看到一道面试题是这样的：")]),t._v(" "),n("blockquote",[n("p",[t._v("下面的JavaScript代码段中，alert的结果是多少？")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("f")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token function"}},[t._v("alert")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("2")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token function"}},[t._v("f")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("原书中给出的解析：说alert的结果是1.")]),t._v(" "),n("p",[t._v("显然，作者没有做过测试。"),n("br"),t._v("\n我们来看看在浏览器中的实际运行结果吧。"),n("br"),t._v(" "),n("img",{attrs:{src:s(161),alt:'实际运行时结果为"undefined"'}}),n("br"),t._v("\n是不是和你想象的有所差距呢？"),n("br"),t._v("\n其实，这里隐藏着一个陷阱：JavaScript的变量提升机制。"),n("br"),t._v("\n我们可以做一系列测试来看看它是怎样的。")]),t._v(" "),n("h1",{attrs:{id:"_1-案发现场"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-案发现场","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. 案发现场")]),t._v(" "),n("p",[t._v("我们先看一段很简单的代码：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token function"}},[t._v("alert")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v('这个没有疑问吧，弹出"1"。OK，我们继续。'),n("br"),t._v("\n我们再看一段代码：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token function"}},[t._v("alert")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v('经过运行之后，我们发现，还是和我们预期的一样，弹出了"1"。'),n("br"),t._v("\n好了，有意思的来了。接着再看一段下面的代码：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token function"}},[t._v("alert")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("2")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("如果这个是一个面试题，面试官问你这个结果是多少？你怎么回答？"),n("br"),t._v("\n我们先看结果吧！"),n("br"),t._v(" "),n("img",{attrs:{src:s(161),alt:'实际运行时结果为"undefined"'}}),n("br"),t._v('\n结果是 "undefined"？和你上面自己想的一样吗？'),n("br"),t._v("\n好吧，我就不故弄玄虚了。其实，这里面隐藏了一个陷阱——"),n("strong",[t._v("JavaScript中的变量提升（Hoisting）")]),t._v("。")]),t._v(" "),n("h1",{attrs:{id:"_2-深度剖析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-深度剖析","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. 深度剖析")]),t._v(" "),n("p",[t._v("现在我来解释下提升是什么意思？顾名思义，就是把下面的东西提到上面。在javascript中，就是"),n("strong",[t._v("把作用域内定义在后面的变量或函数提升到前面来定义")]),t._v("。"),n("br"),t._v("\n在解释提升之前，我们先来看一下js中的作用域（scoping）问题。"),n("br"),t._v("\n对于JavaScript新手来说scoping是最令人困惑的部分之一。事实上，不仅仅是新手，我遇到或很多有经验的JavaScript程序员也不能完全理解scoping。JavaScript的scoping如此复杂的原因是它看上去非常像C系语言的成员。请看下面的C程序：")]),t._v(" "),n("div",{staticClass:"language-c extra-class"},[n("pre",{pre:!0,attrs:{class:"language-c"}},[n("code",[n("span",{attrs:{class:"token macro property"}},[t._v("#"),n("span",{attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("<stdio.h>")])]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("main")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token keyword"}},[t._v("void")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("int")]),t._v(" x "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token function"}},[t._v("printf")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"%d\\n, "')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" x"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{attrs:{class:"token keyword"}},[t._v("int")]),t._v(" x "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("2")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{attrs:{class:"token function"}},[t._v("printf")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"%d\\n, "')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" x"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// 2")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token function"}},[t._v("printf")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"%d\\n"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" x"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("0")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("这段程序的输出是1, 2, 1。这是因为在C系语言有块级作用域(block-level scope),当进入到一个块时，就像if语句，在这个块级作用域中会声明新的变量，这些变量不会影响到外部作用域。但是JavaScript却不是这样。在Firebug中试试下面的代码：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" x "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token boolean"}},[t._v("true")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" x "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("2")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("//2")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nconsole"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{attrs:{class:"token comment"}},[t._v("// 2")]),t._v("\n")])])]),n("p",[t._v("在这段代码中，Firebug显示1, 2, 2。这是因为 "),n("strong",[t._v("JavaScript是函数级作用域(function-level scope)")]),t._v("。这和C系语言是完全不同的。块，就像if语句，并不会创建一个新的作用域。只有函数才会创建新的作用域。"),n("br"),t._v("\n对于大部分熟悉C，C++，C#或是Java的程序员来说，这是意料之外并且不被待见的。幸运的是，因为JavaScript函数的灵活性，对于这个问题我们有一个解决方案。如果你必须在函数中创建一个临时的作用域，请像下面这样做：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("foo")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" x "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" x "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("2")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// 2")]),t._v("\n        "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("       \n    console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// x is still 1.")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("这种方面确实非常灵活，它使用在任何需要创建一个临时作用域的地方，不仅仅是某个块中。但是，我强烈建议你花点时间好好理解下JavaScript scoping。它实在是非常强力，而且它也是我最喜欢的语言特性之一。如果你很好的理解了scoping，理解hoisting将会更加容易。")]),t._v(" "),n("h2",{attrs:{id:"_2-1-变量提升"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-变量提升","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.1 变量提升")]),t._v(" "),n("p",[t._v("变量提升，很简单，就是把变量提升提到函数的top的地方。我么需要说明的是，"),n("strong",[t._v("变量提升只是提升变量的声明，并不会把赋值也提升上来")]),t._v("。"),n("br"),t._v("\n比如：\n我们定义三个变量：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a"),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token string"}},[t._v("'One'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b"),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token string"}},[t._v("'Two'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" c"),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token string"}},[t._v("'Three'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("实际上它是这样子的：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    a"),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token string"}},[t._v("'One'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    b"),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token string"}},[t._v("'Two'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    c"),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token string"}},[t._v("'Three'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("这个时候就把变量提升了呀。"),n("br"),t._v("\n好，我们现在回到第一段代码里面。为什么会弹出"),n("code",[t._v("undefined")]),t._v("呢？其实，根据我们根据上面变量提升原理以及js的作用域（方法作用域）的分析，得知上面代码真正变成如下：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token function"}},[t._v("alert")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    a "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("2")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("所以，才会提示说“undefined”。"),n("br"),t._v("\n从这里，我们也学习到，我们在写js code 的时候，我们需要把变量放在方法作用域的顶端，比如我在上面所举的例子："),n("code",[t._v("var a,b,c;")]),t._v("。防止出现意外。")]),t._v(" "),n("h2",{attrs:{id:"_2-2-函数提升"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-函数提升","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2 函数提升")]),t._v(" "),n("p",[t._v("函数提升是把整个函数都提到前面去。"),n("br"),t._v("\n在我们写js code 的时候，我们有两种写法，一种是函数表达式，另外一种是函数声明方式。我们需要重点注意的是，只有函数声明形式才能被提升。"),n("br"),t._v("\n函数声明方式提升【成功】")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("myTest")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token function"}},[t._v("foo")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("foo")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{attrs:{class:"token function"}},[t._v("alert")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"我来自 foo"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token function"}},[t._v("myTest")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("函数表达式方式提升【失败】")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("myTest")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token function"}},[t._v("foo")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),n("span",{attrs:{class:"token function-variable function"}},[t._v("foo")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{attrs:{class:"token function"}},[t._v("alert")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"我来自 foo"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token function"}},[t._v("myTest")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("结果如下："),n("br"),t._v(" "),n("img",{attrs:{src:s(176),alt:"出现错误"}}),n("br"),t._v("\n左边报错了。没骗你。")]),t._v(" "),n("p",[t._v("应该到这里基本都可以弄懂了。~")])])}],o=s(0),c=Object(o.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);a.default=c.exports}}]);